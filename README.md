# LuxFlowers (Fullstack проект сайта)

## Описание проекта
Этот проект представляет собой систему взаимодействия пользователей. Пользователи сайта могут обозревать, покупать продукты сайта. Также предоставив токен администратора, пользователь имеет право создавать/изменять/удалять сущности в базе данных, добавлять новые продукты/посты/сообщения/входящие.

## Структура проекта
Проект является монолитным, состоит из веб-сервера, который обрабатывет все входящие запросы.

### 1. Веб-сервер
Веб-сервер обрабатывает все запросы, при предоставлении токена администратора в cookies пользователя, или же предоставив токен администратора в POST теле запроса, GET параметре, веб-сервер даёт право пользоваться REST API.
REST API включает в себя следующие эндпойнты:
- **/api/v1/create** - создаёт сущность в БД
- **/api/v1/delete** - удаляет сущность в БД
- **/api/v1/update** - обновляет сущность в БД
- **/api/v1/{тип}** - возвращает любую сущность, принадлежащую определённому типу (blogs/inbox/users/stats/products/chats)
Примеры работы с REST API и тела запросов приведены выше.


#### Структура базы данных:
База данных состоит из нескольких таблиц, а именно:
- Пользователи
- Продукты
- Входящие
- Блоги
- Статистика

## Дополнительная информация
Проект разрабатывается локальном сервере с использованием следующих практик и инструментов:

- **Тестирование**: Автоматические модульные тесты написаны с использованием Playwright для обеспечения корректности функционала.
- **Автоматическое развёртывание**: С помощью Github Actions реализован непрерывный цикл интеграции и доставки (CI/CD).

## Установка и настройка
1. Склонируйте репозиторий на локальную машину:
   ```bash
   git clone https://github.com/murprite/vector
   ```
2. Установите Node.JS последней версии

3. Создайте файл .env и укажите переменную POSTGRES_URL:
    ```env
    POSTGRES_URL="postgres://{имя_администратора_бд}:{пароль_администратора}@{ссылка_на_бд}:{порт}"
    ```

4. Инициализируйте проект с помощью
    ```bash
    npm install
    ```

## Запуск
 - Запуск development версии для разработки
   ```bash
    npm run dev
   ```
 - Компиляция всего проекта в рабочую версию (результат в .output директории)
   ```bash
    npm run build
   ```


## Иные команды

```bash
# Визуальное отображение таблиц БД
npm run prisma:studio

# Обновление сущностей в базе данных (все данные сбрасываются)
npm run prisma:push

# Миграция базы данных
npm run prisma:migrate

# Выполение тестирования
npm run test

```

## Лицензия  

Этот проект распространяется под лицензией **GNU GPL v3**.  

Подробные условия см. в файле `LICENSE`.  
